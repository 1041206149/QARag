"""测试检索模块"""import loggingimport sysfrom pathlib import Path# 添加项目根目录到路径sys.path.insert(0, str(Path(__file__).parent.parent))from src.embedding import EmbeddingModelfrom src.retriever import VectorRetrieverdef test_retriever():    """测试检索功能"""    logging.basicConfig(level=logging.INFO)    print("\n" + "="*50)    print("测试检索模块")    print("="*50)    # 1. 加载向量数据    print("\n=== 步骤1: 加载向量数据 ===")    embedding_model = EmbeddingModel()    embeddings_data = embedding_model.load_embeddings()    # 2. 构建FAISS索引    print("\n=== 步骤2: 构建FAISS索引 ===")    retriever = VectorRetriever(embedding_model=embedding_model)    retriever.build_index(        embeddings=embeddings_data['embeddings'],        qa_pairs=embeddings_data['qa_pairs']    )    # 3. 保存索引    print("\n=== 步骤3: 保存索引 ===")    retriever.save_index()    # 4. 测试检索    print("\n=== 步骤4: 测试检索 ===")    test_queries = [        "如何申请退款？",        "贷款额度如何提升？",        "会员权益有哪些？"    ]    for query in test_queries:        print(f"\n查询: {query}")        results = retriever.search(query, top_k=3)        for result in results:            print(f"\n排名 {result['rank']}:")            print(f"相似度: {result['similarity']:.4f}")            print(f"问题: {result['qa_pair']['question'][:50]}...")            print(f"答案: {result['qa_pair']['answer'][:50]}...")    print("\n✅ 检索测试完成！")if __name__ == "__main__":    test_retriever()