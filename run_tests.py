"""è¿è¡Œæ‰€æœ‰æµ‹è¯•çš„è„šæœ¬"""import subprocessimport sysfrom pathlib import Path# æµ‹è¯•æ–‡ä»¶åˆ—è¡¨test_files = [    "tests/test_data_loader.py",    "tests/test_embedding.py",    "tests/test_retriever.py",    "tests/test_llm_client.py",    "tests/test_pipeline.py"]def run_tests():    """è¿è¡Œæ‰€æœ‰æµ‹è¯•"""    print("="*60)    print("å¼€å§‹è¿è¡Œæ‰€æœ‰æµ‹è¯•")    print("="*60)    failed_tests = []    for test_file in test_files:        test_path = Path(test_file)        if not test_path.exists():            print(f"\nâš ï¸  è·³è¿‡ï¼š{test_file}ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ï¼‰")            continue        print(f"\n{'='*60}")        print(f"è¿è¡Œæµ‹è¯•ï¼š{test_file}")        print(f"{'='*60}")        try:            result = subprocess.run(                [sys.executable, test_file],                capture_output=False,                text=True            )            if result.returncode != 0:                failed_tests.append(test_file)                print(f"\nâŒ {test_file} æµ‹è¯•å¤±è´¥")            else:                print(f"\nâœ… {test_file} æµ‹è¯•é€šè¿‡")        except Exception as e:            print(f"\nâŒ {test_file} è¿è¡Œå‡ºé”™: {e}")            failed_tests.append(test_file)    # æ€»ç»“    print(f"\n{'='*60}")    print("æµ‹è¯•æ€»ç»“")    print(f"{'='*60}")    print(f"æ€»æµ‹è¯•æ•°: {len(test_files)}")    print(f"é€šè¿‡: {len(test_files) - len(failed_tests)}")    print(f"å¤±è´¥: {len(failed_tests)}")    if failed_tests:        print("\nå¤±è´¥çš„æµ‹è¯•:")        for test in failed_tests:            print(f"  - {test}")        sys.exit(1)    else:        print("\nğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼")        sys.exit(0)if __name__ == "__main__":    run_tests()