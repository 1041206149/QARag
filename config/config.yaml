# RAG系统配置文件

# 数据配置
data:
  raw_data_path: "data/raw/qa_pairs_rag.json"
  processed_data_path: "data/processed"

# 向量化配置
embedding:
  model_name: "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2"
  batch_size: 32
  cache_dir: "data/processed"

# 向量数据库配置
vector_store:
  type: "faiss"
  index_path: "vector_store/faiss_index"
  index_type: "flat"  # flat, ivf, hnsw

# 检索配置
retrieval:
  top_k: 5  # 初始检索数量（重排序前）
  similarity_threshold: 0.7
  use_cache: true

  # 查询增强配置
  query_enhancement:
    enabled: true  # 是否启用查询增强
    multi_query:
      enabled: true  # 是否启用多查询生成
      num_queries: 3  # 生成的查询数量（包含原始查询）

  # 混合检索配置
  hybrid_search:
    enabled: true  # 是否启用混合检索
    strategy: "weighted"  # weighted, rrf, vector_only, bm25_only
    vector_weight: 0.7  # 向量检索权重
    bm25_weight: 0.3  # BM25 检索权重

  # 重排序配置
  rerank:
    enabled: true
    strategy: "cross_encoder"  # similarity, diversity, mmr, cross_encoder
    top_k: 3  # 重排序后返回的文档数量

# LLM配置
llm:
  provider: "openai"  # openai, anthropic, local
  model: "gpt-4o-mini"
  temperature: 1.0
  max_tokens: 1000
  timeout: 30

# 日志配置
logging:
  level: "WARNING"  # DEBUG, INFO, WARNING, ERROR (改为WARNING减少终端输出)
  file: "logs/app.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 系统配置
system:
  cache_enabled: true
  parallel_processing: false
  max_workers: 4
